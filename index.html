<!DOCTYPE html>
<html>
    <head>
        <title>Mr. GoodBot</title>

        <script language="javascript" type="text/javascript" src="elizabot.js"></script>
        <script language="javascript" type="text/javascript" src="elizadata.js"></script>

        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">

        <style>

		body{
			margin:0;
			overflow: hidden;
			background: black;
		}

		canvas { 
			left: 0px;
			top: 0px;   
			position: absolute;
			z-index: -10;         
		}

        </style>
    </head>
    <body> 

		<div id='face'>
			<div id='brows'>
				<img style='display:none;' id="brow0" src="./skins/Default/eyebrows_left_curve_raised.png">
				<img style='display:none;' id="brow1" src="./skins/Default/eyebrows_left_raised.png">
				<img style='display:none;' id="brow2" src="./skins/Default/eyebrows_rightleft_curve_raised.png">
				<img style='display:none;' id="brow3" src="./skins/Default/eyebrows_rightleft_curve_raised_up.png">
				<img style='display:none;' id="brow4" src="./skins/Default/eyebrows_right_curve_raised.png">
				<img style='display:none;' id="brow5" src="./skins/Default/eyebrows_right_raised.png">
			</div>
			<div id='eyes'>
				<img style='display:none;' id="eye0" src="./skins/Default/eyes_closed.png">
				<img style='display:none;' id="eye1" src="./skins/Default/eyes_open_center.png">
				<img style='display:none;' id="eye2" src="./skins/Default/eyes_open_down.png">
				<img style='display:none;' id="eye3" src="./skins/Default/eyes_open_half_left.png">
				<img style='display:none;' id="eye4" src="./skins/Default/eyes_open_half_right.png">
				<img style='display:none;' id="eye5" src="./skins/Default/eyes_open_left.png">
				<img style='display:none;' id="eye6" src="./skins/Default/eyes_open_right.png">
				<img style='display:none;' id="eye7" src="./skins/Default/eyes_open_up.png">
			</div>
			<div id='noses'>
				<img style='display:none;' id="nose0" src="./skins/Default/nose_center.png">
			</div>
			<div id='mouths'>
				<img style='display:none;' id="mouth0" src="./skins/Default/mouth_happy.png">
				<img style='display:none;' id="mouth1" src="./skins/Default/mouth_neutral.png">
				<img style='display:none;' id="mouth2" src="./skins/Default/mouth_smile.png">
			</div>
		</div>

		<center>
			<canvas id="myCanvas"></canvas>
		</center>

		<script language="javascript" type="text/javascript">

		var canvas = document.getElementById("myCanvas");
		var context = canvas.getContext("2d");

		var brows = document.getElementById("brows").querySelectorAll("img");
		var eyes = document.getElementById("eyes").querySelectorAll("img");
		var noses = document.getElementById("noses").querySelectorAll("img");
		var mouths = document.getElementById("mouths").querySelectorAll("img");

		window.onload = function ()
		{
			UpdateFace();
		}

		function UpdateFace(){

			// in case of size or orientation change
			// Resize canvas
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;

			// Select Face Elements
			var brow = brows[Math.floor(Math.random() * brows.length)];
			var eye = eyes[Math.floor(Math.random() * eyes.length)];
			var nose = noses[Math.floor(Math.random() * noses.length)];
			var mouth = mouths[Math.floor(Math.random() * mouths.length)];
			
			// Draw/Update Face
			context.drawImage(eye, 0, 0, eye.naturalWidth, eye.naturalHeight, 0, 0, window.innerWidth, window.innerHeight);
			context.drawImage(brow, 0, 0, brow.naturalWidth, brow.naturalHeight, 0, 0, window.innerWidth, window.innerHeight);
			context.drawImage(nose, 0, 0, nose.naturalWidth, nose.naturalHeight, 0, 0, window.innerWidth, window.innerHeight);
			context.drawImage(mouth, 0, 0, mouth.naturalWidth, mouth.naturalHeight, 0, 0, window.innerWidth, window.innerHeight);

			// timeout for next frame of the face animation
			// 1 frame every 1.5 seconds
			// 60 seconds / 1.5 seconds per frame = 40 frames a minute
			window.setTimeout(UpdateFace, 1.5*1000);
		}

		</script>

	</body>
</html>
